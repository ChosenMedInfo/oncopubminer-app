<!DOCTYPE html>
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="icon" th:href="@{/assets/images/favicon.ico}" >
	<title>OncoPubMiner - Search</title>
	<link rel="stylesheet" th:href="@{/assets/libs/layui/css/layui.css}"/>
	<link rel="stylesheet" th:href="@{/assets/module/admin.css}"/>
	
	<link rel="stylesheet" th:href="@{/assets/module/hjf-ptc/css/style.css}" media="all">
	<link rel="stylesheet" th:href="@{/assets/module/hjf-ptc/css/fontawesome-all.min.css}" media="all">
	
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<style>                                                          
		/* Global */
		.lrSearch{
			width: 1200px;
			margin: 20px auto 70px;
			text-align: left;
			font-size: 14px;
			line-height: 30px;
		}
		.result-authors, 
		.result-journal{
			line-height: 16px;
		}
		
		/* Description */
		.lrSearch-desc{
			margin: 0 0 30px 0;
			text-align: justify;
		}
		
		/* Quick Search */
		.lrSearch-search{
			margin-top: 20px;
		}
		.layui-form > .layui-form-item {
			position: relative;
		}
		.lrSearch-search .layui-form-select { /* 下拉框 */
			width: 135px;
		}
		.lrSearch-search .layui-form-select .layui-input { /* 下拉框 */
			height: 40px;
			line-height: 40px;
			border-radius: 6px 0px 0px 6px !important;
			border-right: 1px #F5F5F5 solid;
		}
		.layui-input-icon-group > .layui-icon {
			width: 40px;
			height: 40px;
			line-height: 40px;
			font-size: 20px;
			color: #909399;
			position: absolute;
			left: 135px;
			top: 0;
			text-align: center;
			z-index: 10000;
		}
		.layui-form > .layui-form-item > .layui-input {
			height: 40px;
			line-height: 40px;
			border-left: none;
			border-right: none;
			border-radius: 0px !important;
			position: absolute;
			top: 0;
			left: 135px;
			width: calc( 100% - 235px );
		}
		.layui-form > .layui-form-item > .layui-input:hover,
		.layui-form > .layui-form-item > .layui-input:focus,
		.layui-form-select .layui-input:hover,
		.layui-form-select .layui-input:focus {
			border-color: #e6e6e6 !important;
		}
		#idSubmit{
			width: 100px;
			height: 40px;
			line-height: 40px;
			border-radius: 0px 6px 6px 0px !important;
			border-left: 1px #F5F5F5 solid;
			position: absolute;
			top: 0;
			right: 0;
			font-size: 14px !important;
			background-color: #0299CC;
		}
		#idSubmit:hover{
			background-color: #0299CC !important;
		}
		#idBtnShowMore,
		#idBtnShowMoreFuzzy{
			background-color: #0299CC;
			border-color: #0299CC;
			height: 40px;
			color: white;
			margin-top: 10px;
		}
		.layui-input-icon-group > .layui-input {
			padding-left: 40px;
		}
		.lrSearch-example{
			cursor: pointer;
		}
		
		/* Results */
		.lrSearch-result{
			margin: 10px 0 20px 0;
			text-align: left;
		}
		.lrSearch-result .result-col1{
			font-size: 14px;
			line-height: 24px;
		}
		.lrSearch-result .result-col1 h3{
			font-weight: bold;
		}
		.lrSearch-result .result-num{
			width: 60px;
			vertical-align: top;
		}
		.lrSearch-result .result-title{
			font-size: 16px;
			color: #663399;
		}
		.lrSearch-result .nocontent{
			font-size: 16px;
			color: grey;
			font-style: italic;
		}
		.lrSearch-result .result-journal,
		.lrSearch-result .result-pmid{
			font-size: 14px;
			color: #0071bc;
		}
		.lrSearch-result .result-abstract{
			text-align: justify;
			line-height: 20px;
		}
		.hAlignCenter{
			text-align: center;
		}
		.loadingGif{
			width: 20px;
			margin-top: -4px;
		}
		.classRelatedItems{
			border: #1d9cd6 dashed 1px;
			background-color: #FDFBFF;
			border-radius: 6px;
		}
		.classRelatedItemsForC::before,
		.classRelatedItemsForC::after,
		.classRelatedItemsForS::before,
		.classRelatedItemsForS::after {
			content: "";
			position: absolute;
			width: 0;
			height: 0;
			border: 12px dashed transparent;
			border-bottom-color: #1d9cd6;
			left: 150px;
			top: -24px;
		}
		.classRelatedItemsForS::before,
		.classRelatedItemsForS::after {
			left: 225px;
		}
		.classRelatedItemsForS.change::before,
		.classRelatedItemsForS.change::after {
			left: 150px !important;
		}
		.classRelatedItemsForC::after,
		.classRelatedItemsForS::after {
			border-bottom-color: #FDFBFF; /* 同classRelatedItems */
			top: -23px;
		}
		
		.lookmoretop{
			overflow : hidden;  
			text-overflow: ellipsis;  
			display: -webkit-box;  
			-webkit-line-clamp: 3;  
			-webkit-box-orient: vertical;
			height: 60px; 
		}
		
		.subItems{
			color: #0299CC;
		}
		
		/* 左侧 */
		.lrSearch #concepts .concepts-menu,
		.lrSearch #conceptsFuzzy .concepts-menu {
			margin-top: 0px;
			margin-bottom: 10px;
		}
		.lrSearch #summary .side-table-content1,
		.lrSearch #summaryFuzzy .side-table-content1 {
			font-size: 11px;
			background-color: #fff;
			line-height: 12px;
		}
		.lrSearch #summary .annotations-table-view,
		.lrSearch #summaryFuzzy .annotations-table-view {
			overflow: auto;
			height: auto;
			border-top: 0px;
			padding-top: 15px;
		}
		#idSideTableContent,
		#idSideTableContentFuzzy {
			overflow: auto;
			height: calc( 100% - 0px );
			
			/* 隐藏滚动条 */
			scrollbar-width: none; /* Firefox */
			-ms-overflow-style: none; /* IE 10+ */
		}
		#idSideTableContent::-webkit-scrollbar,
		#idSideTableContentFuzzy::-webkit-scrollbar { 
			width: 0 !important;
			display: none; /* Chrome Safari */
		}
		#filterText,
		#filterTextFuzzy {
			background-color: transparent;
			border: none;
			border-bottom: 1px solid #9e9e9e;
			border-radius: 0;
			outline: none;
			width: 100%;
			font-size: 12px;
			margin: 0;
			padding: 0;
			-webkit-box-shadow: none;
			box-shadow: none;
			-webkit-box-sizing: content-box;
			box-sizing: content-box;
			-webkit-transition: border .3s, -webkit-box-shadow .3s;
			/* transition: border .3s, -webkit-box-shadow .3s; */
			/* transition: box-shadow .3s, border .3s; */
			transition: box-shadow .3s, border .3s, -webkit-box-shadow .3s;
		}
		.lrSearch #summary .row .col,
		.lrSearch #summaryFuzzy .row .col {
			float: left;
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
			padding: 0 .75rem;
			min-height: 1px;
		}
		.lrSearch #summary .card,
		.lrSearch #summaryFuzzy .card {
			position: absolute;
			z-index: 999;
			margin-top: 0;
			background-color: #fff;
		}
		.lrSearch #summary .row::after,
		.lrSearch #summaryFuzzy .row::after {
			content: "";
			display: table;
			clear: both;
		}
		.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}.bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse}@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.shake{-webkit-animation-name:shake;animation-name:shake}@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.tada{-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble}@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}@keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.bounceOut{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceOut;animation-name:bounceOut}@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg);opacity:1}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg);opacity:1}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}@keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn}@-webkit-keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}@-webkit-keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}@-webkit-keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}@-webkit-keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}@-webkit-keyframes rotateOut{0%{-webkit-transform-origin:center;transform-origin:center;opacity:1}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}@keyframes rotateOut{0%{-webkit-transform-origin:center;transform-origin:center;opacity:1}to{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut}@-webkit-keyframes rotateOutDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}@keyframes rotateOutDownLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft}@-webkit-keyframes rotateOutDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutDownRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight}@-webkit-keyframes rotateOutUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutUpLeft{0%{-webkit-transform-origin:left bottom;transform-origin:left bottom;opacity:1}to{-webkit-transform-origin:left bottom;transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft}@-webkit-keyframes rotateOutUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}@keyframes rotateOutUpRight{0%{-webkit-transform-origin:right bottom;transform-origin:right bottom;opacity:1}to{-webkit-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight}@-webkit-keyframes hinge{0%{-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}@keyframes hinge{0%{-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.hinge{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:hinge;animation-name:hinge}@-webkit-keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.jackInTheBox{-webkit-animation-name:jackInTheBox;animation-name:jackInTheBox}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}@-webkit-keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}@keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}.zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown}@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}.zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft}@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}.zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight}@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp}@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}
		.lrSearch #idDivLeft,
		.lrSearch #idDivLeftFuzzy{
			position: fixed;
			overflow: auto;
			scrollbar-width: none; /* 隐藏滚动条 */
			width: 182.5px;
		}
		.lrSearch .leftDivTop{
			top: 0;
		}
		.lrSearch .leftDivBottom{
			bottom: 41px;
		}
		
		/** 应用快捷块样式 */
        .console-app-group {
            padding: 16px;
            border-radius: 4px;
            text-align: center;
            background-color: #fff;
            cursor: pointer;
            display: block;
            overflow: auto;
            height: 136px;
            border: 1px solid #e1bee7;
            
            /* 隐藏滚动条 */
			scrollbar-width: none; /* Firefox */
			-ms-overflow-style: none; /* IE 10+ */
        }
        .disease .console-app-group,
        .cancer .console-app-group {
        	border: 1px solid #ffe0b2;
        }
        .chemical .console-app-group,
        .drug .console-app-group {
        	border: 1px solid #c8e6c9;
        }
        .console-app-group:hover {
            box-shadow: 0 0 15px rgba(0, 0, 0, .08);
        }
        .console-app-group .console-app-icon {
            width: 32px;
            height: 32px;
            line-height: 32px;
            margin-bottom: 6px;
            display: inline-block;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            font-size: 32px;
            color: #673ab7;
        }
        .console-app-group .console-app-id {
            font-weight: bold;
            line-height: 24px;
            color: #673ab7;
        }
        .console-app-group .console-app-name {
            font-weight: normal;
            line-height: 20px;
            color: #673ab7;
        }
        .console-app-group .console-app-syn {
            font-weight: normal;
            font-size: 12px;
            line-height: 14px;
            margin-top: 10px;
        }
        .disease .console-app-group .console-app-icon,
        .disease .console-app-group .console-app-id,
        .disease .console-app-group .console-app-name,
        .cancer .console-app-group .console-app-icon,
        .cancer .console-app-group .console-app-id,
        .cancer .console-app-group .console-app-name {
        	color: #ff9800;
        }
        .chemical .console-app-group .console-app-icon,
        .chemical .console-app-group .console-app-id,
        .chemical .console-app-group .console-app-name,
        .drug .console-app-group .console-app-icon,
        .drug .console-app-group .console-app-id,
        .drug .console-app-group .console-app-name {
        	color: #4caf50;
        }
        
        /* 实体确认列表 */
        #idDivStandardItemConfirm{
        	margin-left: 52px;
        }
        
        /* 检索参数设置弹出框 */
		.divParamsSetting{
			padding: 20px 20px 20px 20px;
			font-size: 12px !important;
		}
		.divParamsSetting .card-title,
		.divParamsSetting .concept {
			float: left;
			margin-right: 10px;
			background-color: #fff;
		}
		.divParamsSetting .card-title{
			width: 80px;
		}
		.divParamsSetting hr {
			height: 1px;
			border: none;
			background-color: #E6E6E6;
			margin: 5px 0;
		}
		.layui-tab-content{
			padding-left: 0px;
			padding-right: 0px;
		}
		.layui-fluid {
			padding: 5px;
		}
		.pubLevel{
			cursor: pointer;
		}
		
	</style>
</head>
<body class="show-chemical show-gene show-disease show-mutation show-clinsig show-evidirt">

<!-- 正文开始 -->
<div class="lrSearch">
	
	<!-- Title -->
	<div class="page-title">OncoPubMiner - Searching</div>
	<hr>
	
	<!-- Search -->
	<div class="lrSearch-search">
		<form class="layui-form">
			<div class="layui-form-item layui-input-icon-group">
				<i class="layui-icon layui-icon-search"></i>
				<select id="idSearchingMode" name="searchingMode">
					<option value="local">Local Mode</option>
					<option value="remote">Remote Mode</option>
				</select>
				<input class="layui-input" id="idNumPerPage" name="numPerPage" type="hidden" value="10"/>
				<input class="layui-input" id="idDatasetType" name="datasetType" type="hidden" value="Cancer"/>
				<input class="layui-input" id="idLitKeyword" name="litKeyword" placeholder="Search Literatures Here" autocomplete="off" lay-verType="tips"/>
				<button class="layui-btn icon-btn" id="idSubmit" lay-submit><i class="layui-icon">&#xe615;</i>Search</button>
			</div>
		</form>
	</div>
	
	<!-- Results -->
	<div class="layui-tab">
		<ul class="layui-tab-title" id="idUlTabTitle">
			<li class="layui-this" id="idEntityBasedMatching">Entity-based matching</li>
			<li id="idMentionBasedMatching">Mention-based</li>
		</ul>
		<div class="layui-tab-content">
			<div class="layui-tab-item layui-show" id="idDivTab1">
				
				<!-- Entity-based matching - START -->
				<div class="lrSearch-result layui-fluid">
					<div class="layui-row layui-col-space15">
						<div class="layui-col-xs2 result-col1">
							<div id="idDivLeft" class="leftDivBottom">
								<div id="concepts" style="display: none;">
									<div class="concepts-menu animated zoomIn" id="idDivBioConcepts">
										<div class="card-title"><b>BioConcepts: </b></div>
									</div>
								</div>
								
								<div id="summary" style="display: none" class="summaryInSearch">
									<div class="side-table-content1 animated zoomIn show-true" id="idSideTableContent">
										<div class="sidebar-controls">
											<div class="row" style="margin: 0px;">
												<div class="col l11 m12 s12" style="padding-left: 0px; width: 90%">
													<label for="filterText"></label>
													<input id="filterText" type="text" placeholder="Search..." class="annotations-filter">
												</div>
												<div class="col l1 m12 s12 filter-controls" style="width: 1%; font-size: 12px; padding: 0;">
													<i style="display: none" onclick="clearFilter()" class="fa fa-times"></i>
												</div>
												<div class="col l5 m12 s12" style="padding-left: 0px; padding-right: 0px; width: 41.6666666667%;">
													<div class="select-name" style="margin-left: 0px;" onclick="group_toggle(0)">group <span class="fa fa-chevron-down"></span></div>
													<div class="select-options card" id="groupControlsShow" style="display: none; margin-left: 0px;"></div>
													<span class="selected-value"></span>
												</div>
												<div class="col l5 m12 s12" style="padding-right: 0px; width: 41.6666666667%;">
													<div class="select-name" style="margin-left: 0px;" onclick="sort_toggle(0)">sort <span class="fa fa-chevron-down"></span></div>
													<div class="select-options card" id="sortControlsShow" style="display: none; margin-left: 0px;"></div>
													<span class="selected-value"></span>
												</div>
											</div>
										</div>
										<div class="annotations-table-view"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="layui-col-xs10 result-col2">
							<div class="layui-row layui-col-space15 full-view animated zoomIn" id="idDivStandardItemConfirm">
								
							</div>
							<div class="layui-row layui-col-space15 full-view" id="idDivSearchingResults">
								
							</div>
							<div class="layui-row layui-col-space15" id="idDivShowMore">
								<div class="layui-col-xs12 hAlignCenter" style="padding-left: 58px;">
									<input id="idInputPubResultShowCount" type="hidden" value="0" />
									<input id="idInputPubResultShowPage" type="hidden" value="0" />
									<button type="button" class="layui-btn layui-btn-sm layui-btn-fluid layui-btn-primary" id="idBtnShowMore">Show More</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Entity-based matching - END -->
				
			</div>
			<div class="layui-tab-item" id="idDivTab2">
				
				<!-- Mention-based - START -->
				<div class="lrSearch-result layui-fluid">
					<div class="layui-row layui-col-space15">
						<div class="layui-col-xs2 result-col1">
							<div id="idDivLeftFuzzy" class="leftDivBottom">
								<!--
								<div id="conceptsFuzzy">
									<div class="concepts-menu animated zoomIn">
										<div class="card-title"><b>BioConcepts: </b></div>
									</div>
								</div>
								-->
								
								<div id="summaryFuzzy" style="display: none" class="summaryInSearch">
									<div class="side-table-content1 animated zoomIn show-true" id="idSideTableContentFuzzy">
										<div class="sidebar-controls">
											<div class="row" style="margin: 0px;">
												<div class="col l11 m12 s12" style="padding-left: 0px; width: 90%">
													<label for="filterTextFuzzy"></label>
													<input id="filterTextFuzzy" type="text" placeholder="Search..." class="annotations-filter">
												</div>
												<div class="col l1 m12 s12 filter-controls" style="width: 1%; font-size: 12px; padding: 0;">
													<i style="display: none" onclick="clearFilter(1)" class="fa fa-times"></i>
												</div>
												<div class="col l5 m12 s12" style="padding-left: 0px; padding-right: 0px; width: 41.6666666667%;">
													<div class="select-name" style="margin-left: 0px;" onclick="group_toggle(1)">group <span class="fa fa-chevron-down"></span></div>
													<div class="select-options card" id="groupControlsShowFuzzy" style="display: none; margin-left: 0px;"></div>
													<span class="selected-value"></span>
												</div>
												<div class="col l5 m12 s12" style="padding-right: 0px; width: 41.6666666667%;">
													<div class="select-name" style="margin-left: 0px;" onclick="sort_toggle(1)">sort <span class="fa fa-chevron-down"></span></div>
													<div class="select-options card" id="sortControlsShowFuzzy" style="display: none; margin-left: 0px;"></div>
													<span class="selected-value"></span>
												</div>
											</div>
										</div>
										<div class="annotations-table-view"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="layui-col-xs10 result-col2">
							<div class="layui-row layui-col-space15 full-view" id="idDivSearchingResultsFuzzy">
								
							</div>
							<div class="layui-row layui-col-space15" id="idDivShowMoreFuzzy">
								<div class="layui-col-xs12 hAlignCenter" style="padding-left: 58px;">
									<input id="idInputPubResultShowCountFuzzy" type="hidden" value="0" />
									<input id="idInputPubResultShowPageFuzzy" type="hidden" value="0" />
									<button type="button" class="layui-btn layui-btn-sm layui-btn-fluid layui-btn-primary" id="idBtnShowMoreFuzzy">Show More</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Mention-based - END -->
				
			</div>
		</div>
	</div>
	
</div>

<!-- Footer -->
<div class="lr-footer">
	Copyright © 2021 Oncology Precision Text-Mining Team. Contact Us: quanxu@chosenmedtech.com.
</div>

<!-- js部分 -->
<script th:src="@{/assets/libs/layui/layui.js}"></script>
<script th:src="@{/assets/module/xmSelect.js}"></script>
<script th:src="@{/assets/module/hjf-ptc/js/jquery-3.6.0.min.js}"></script>
<script th:src="@{/assets/module/hjf-ptc/js/vendor.min.js}"></script>
<script th:src="@{/assets/js/common4OldSearch.js}"></script>
<script th:src="@{/assets/module/reportInfo.js}"></script>
<script>
	var strDefaultPubResultHtml = 
		'<div class="layui-col-xs12">' +
		'	<table>' +
		'		<tr>' +
		'			<td class="result-num"></td>' +
		'			<td>' +
		'				<p class="result-authors">Please input keywords to initiate your publication searching...</p>' +
		'			</td>' +
		'		</tr>' +
		'	</table>' +
		'</div>';
	var allConcepts = getAllConcepts(); // 获取全部概念类别！
	var allPassages = []; // 当页加载的全部passages：用于左侧实体统计！
	var allPassagesFuzzy = []; // 当页加载的全部passages：用于左侧实体统计！
	scrollToNodeHeight = 20; // 适用于search页面的高度！
	var $, admin, util, xnUtil, form, formX, element, currentUser;
	layui.use(['admin', 'util', 'xnUtil', 'form', 'formX', 'element'], function () {
		$ = layui.jquery;
		admin = layui.admin;
		util = layui.util;
		xnUtil = layui.xnUtil;
		form = layui.form;
		formX = layui.formX;
		element = layui.element;
		
		// 获取当前登录用户！
		currentUser = getCurrentLoginUser();
		
		// 初始化文献列表部分！
		$("#idDivShowMore").hide();
		$("#idDivShowMoreFuzzy").hide();
		if($("#idDivSearchingResults").html() == ''){
			$("#idDivSearchingResults").html(strDefaultPubResultHtml);
		}
		if($("#idDivSearchingResultsFuzzy").html() == ''){
			$("#idDivSearchingResultsFuzzy").html(strDefaultPubResultHtml);
		}
		
		// 参数检索！
		var paramKw = localStorage.getItem('paramKw');
		var paramMd = localStorage.getItem('paramMd');
		var paramNo = localStorage.getItem('paramNo'); // 2021-10-31：每页条数！
		var paramDt = localStorage.getItem('paramDt'); // 2021-10-31：数据集类型：癌症或全部！
		paramMd = paramMd == null || paramMd == "" ? "local" : paramMd; // 默认local模式！
		paramNo = paramNo == null || paramNo == "" ? "10" : paramNo; // 默认10条！
		paramDt = paramDt == null || paramDt == "" ? "cancer" : paramDt; // 默认癌症！
		$("#idSearchingMode").val(paramMd);
		$("#idNumPerPage").val(paramNo);
		$("#idDatasetType").val(paramDt);
		form.render(); // 确保下拉菜单更新！
		if(paramKw != null && paramKw != ""){
			$("#idLitKeyword").val(paramKw);
			allPassages = [];
			allPassagesFuzzy = [];
			loadSummaryConcepts(allPassages, 0);
			loadSummaryConcepts(allPassagesFuzzy, 1);
			funcRealSearching(paramKw, paramMd, 1, 0);
			if($("#idSearchingMode").val() != "remote") funcRealSearching(paramKw, paramMd, 1, 1); // 只有local才检索Mention！
		}
		
		// 监听文本框提交事件！
		$("#idLitKeyword").keydown(function (e) {
			if (e.which == 13) {
				allPassages = [];
				allPassagesFuzzy = [];
				loadSummaryConcepts(allPassages, 0);
				loadSummaryConcepts(allPassagesFuzzy, 1);
				funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), 1, 0);
				if($("#idSearchingMode").val() != "remote") funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), 1, 1); // 只有local才检索Mention！
				return false;
			}
		});
		
		// 监听按钮点击事件！
		$("#idSubmit").click(function () {
			allPassages = [];
			allPassagesFuzzy = [];
			loadSummaryConcepts(allPassages, 0);
			loadSummaryConcepts(allPassagesFuzzy, 1);
			funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), 1, 0);
			if($("#idSearchingMode").val() != "remote") funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), 1, 1); // 只有local才检索Mention！
			return false;
		});
		
		// 监听显示更多按钮的点击事件！
		$("#idBtnShowMore").click(function (e) {
			funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), Number($("#idInputPubResultShowPage").val()) + 1, 0);
			return false;
		});
		$("#idBtnShowMoreFuzzy").click(function (e) {
			funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), Number($("#idInputPubResultShowPageFuzzy").val()) + 1, 1);
			return false;
		});
		
		// 真正执行检索的函数！
		function funcRealSearching(strKw, strMode, intPage, intMatchingTab){ // intMatchingTab: 0Entity-based matching, 1Mention-based.
			console.log("funcRealSearching: 检索模式：“" + strMode + "”，检索页码：“" + intPage + "”，tab序号：“" + intMatchingTab + "”，检索关键词：“" + strKw + "”...");
			if(strMode == "remote") { $("#idUlTabTitle").hide(); } // 远程检索，不显示tabTitle！
			if(strKw.length < 2){
				layer.msg("Keyword should not less than 2 characters, please have a check!");
				return false;
			}
			if(intPage === 1){
				intMatchingTab == 0 ? allPassages = [] : allPassagesFuzzy = []; // 清空已有检索段落！
				loadSummaryConcepts(intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab);
			}
			// 判断是否为空！
			//var thisUrl = "/assets/json/searchExample5.json"; // 20211029：新增Entity-based和Mention-based分类后的测试！
			var thisUrl = strApiKwSearching + strKw + "&m=" + strMode + "&p=" + intPage + "&l=" + $("#idNumPerPage").val() + "&t=" + $("#idDatasetType").val();
			var thisUrlKw = strApiKwQuery + strKw + "&m=" + strMode + "&p=" + intPage + "&l=" + $("#idNumPerPage").val() + "&t=" + $("#idDatasetType").val();
			if(strKw == null || strKw.trim() == ""){
				layer.msg("Please input keyword!");
				$("#idLitKeyword").focus();
				return false;
			}else if(strKw.trim().substr(0,1) === '@'){
				$("#idDivStandardItemConfirm").hide();
				$("#idDivSearchingResults").show();
				$("#idMentionBasedMatching").hide();
				$("#idDivTab2").hide();
			}else if(intMatchingTab === 1){
				//thisUrl = "/assets/json/searchExample6.json"; // 20211029：新增Entity-based和Mention-based分类后的测试！
				thisUrl = thisUrlKw;
			}
			if(strMode === 'remote') {
				$("#idDivStandardItemConfirm").hide();
				$("#idDivSearchingResults").show();
				$("#idMentionBasedMatching").hide();
				$("#idDivTab2").hide();
			}else if(strKw.trim().substr(0,1) !== '@'){
				$("#idDivStandardItemConfirm").show();
				$("#idDivSearchingResults").hide();
				$("#idDivShowMore").hide();
				$("#idMentionBasedMatching").show();
				$("#idDivTab2").show();
			}
			
			// 执行检索！
			localStorage.setItem('paramKw', strKw); // 更新当前关键词到localStorage！
			localStorage.setItem('paramMd', strMode);
			localStorage.setItem('paramNo', $("#idNumPerPage").val());
			localStorage.setItem('paramDt', $("#idDatasetType").val());
			var indexSearching;
			if(intMatchingTab !== 1) indexSearching = layer.load(3, {shade: [0.01, '#393D49']}); // 2021-10-31：Mention-based不显示loading！
			$.ajax({
				type: "get",
				//url: "/assets/json/searchExample2.json", // 测试用！
				//url: "/assets/json/searchExample4.json", // 测试用！
				//url: strApiKwSearching + strKw + "&m=" + strMode,
				url: thisUrl, // 20211029：新增Entity-based和Mention-based分类后的测试！
				dataType: "json",
				timeout: 6000000, // 超时时间设置，单位毫秒！
				async: false,
				success: function(result){
					layer.close(indexSearching);
					if(!result.success || result.data == null){
						layui.layer.msg("Searching failure...");
						return false;
					}else if(result.data.length === 0){
						intMatchingTab == 0 ? $("#idDivSearchingResults").html("No publication matched!") : $("#idDivSearchingResultsFuzzy").html("No publication matched!");
						intMatchingTab == 0 ? $("#idDivShowMore").hide() : $("#idDivShowMoreFuzzy").hide();
						return false;
					}
					
					// 数量和页码！
					var intAlreadyShowPubResultCount = intMatchingTab == 0 ? Number($("#idInputPubResultShowCount").val()) : Number($("#idInputPubResultShowCountFuzzy").val());
					if(intPage == 1) intAlreadyShowPubResultCount = 0;
					var intShowCount = intAlreadyShowPubResultCount + result.data.length;
					intMatchingTab == 0 ? $("#idInputPubResultShowCount").val(intShowCount) : $("#idInputPubResultShowCountFuzzy").val(intShowCount);
					intMatchingTab == 0 ? $("#idInputPubResultShowPage").val(intPage) : $("#idInputPubResultShowPageFuzzy").val(intPage);
					
					// 分类处理！
					if(result.type === 1){ // 2021-10-29：返回的是标准实体！
						$("#idDivStandardItemConfirm").html("<div>Did you means to search any of the following items?</div>");
						for(let k = 0; k < result.data.length; k++){
							// 预处理！
							let thisSynonyms = result.data[k].synonyms == null ? "" : result.data[k].synonyms.replace(/^\|/g, "").replace(/\|$/g, "").replace(/\|/g, " | ").replace(new RegExp($("#idLitKeyword").val(), 'ig'), '<i style="color: red;">' + $("#idLitKeyword").val() + '</i>');
							let thisEntryId = "";
							let thisLabel = result.data[k].label.toLowerCase();
							if(thisLabel == "disease"){
								thisEntryId = "@CA@" + result.data[k].identifier;
							}else if(thisLabel == "gene"){
								thisEntryId = "@GE@" + result.data[k].identifier;
							}else if(thisLabel == "chemical"){
								thisEntryId = "@DR@" + result.data[k].identifier;
							}
							// 生成HTML！
							let strThisEntry = 
								'<div class="layui-col-xs6 layui-col-sm3 ' + thisLabel + '" id="idDivOutConsoleAppId' + k + '">' +
								'	<div class="console-app-group">' +
								'		<i class="console-app-icon layui-icon layui-icon-search"></i>' +
								'		<div class="console-app-id" id="idConsoleAppId' + k + '">' + thisEntryId + '</div>' +
								'		<div class="console-app-name">' + result.data[k].symbol + '</div>' +
								'		<div class="console-app-syn">' + thisSynonyms + '</div>' +
								'	</div>' +
								'</div>';
							$("#idDivStandardItemConfirm").append(strThisEntry);
							// 监听点击检索！
							$("#idDivOutConsoleAppId" + k).click(function (e) {
								$("#idSearchingMode").val("local");
								$("#idLitKeyword").val($('#idConsoleAppId' + k).html());
								$("#idDivStandardItemConfirm").hide();
								$("#idDivSearchingResults").show();
								funcRealSearching($("#idLitKeyword").val(), $("#idSearchingMode").val(), 1, 0);
								return false;
							});
						}
					}else{
						// 查看更多按钮！
						if(result.next != null && result.page != null && result.next == result.page + 1) {
							intMatchingTab == 0 ? $("#idDivShowMore").show() : $("#idDivShowMoreFuzzy").show();
						}else{
							intMatchingTab == 0 ? $("#idDivShowMore").hide() : $("#idDivShowMoreFuzzy").hide();
						}
						// 遍历显示！
						var allCurrentSearchingPubHtml = "";
						for(var i = 0; i < result.data.length; i++){
							
							var bolCheckNoContent = result.data[i].nocontent != null && result.data[i].nocontent == true; // 2021-11-08：判断是否是没有BioC的文献！
							var thisPubNo = intAlreadyShowPubResultCount + i + 1;
							var thisTabSymbol = intMatchingTab == 0 ? "" : "Fuzzy";
							var thisPubHtml = 
								'<div class="layui-col-xs12 animated zoomIn" id="idDivPubSearchingItem' + thisPubNo + thisTabSymbol + '">' +
								'	<table>' +
								'		<tr>';
							if(currentUser == null){
								thisPubHtml +=
								'			<td class="result-num">' + thisPubNo + '</td>';
							}else{
								thisPubHtml +=
								'			<td class="result-num"><input type="checkbox" ' + (bolCheckNoContent ? 'disabled = "disabled" ' : '') + ' name="addBatchPubCheckBox" value="' + result.data[i].id + '|' + thisPubNo + thisTabSymbol + '" /> &nbsp;' + thisPubNo + '</td>';
							}
							
							// 2021-11-08：判断是否是没有BioC的文献！
							if(bolCheckNoContent){ // 没有BioC的情况，单独处理！
								
								thisPubHtml +=
								'			<td>' +
								'				<p class="result-title nocontent"><a href="https://pubmed.ncbi.nlm.nih.gov/' + result.data[i].id + '/" target="_blank">PMID:' + result.data[i].id + ' <i class="bx bx-link"></i></a> [No BioC available]</p>' +
								'			</td>' +
								'		</tr>' +
								'	</table>' +
								'</div>';
								allCurrentSearchingPubHtml += thisPubHtml;
								
							}else{ // 有BioC的情况处理！
								
								// 2021-10-27：按照单句中出现的实体类别数量的最大值进行标星！
								var thisStarsMaxNum = 0;
								var thisStarsHtml = "";
								for(var p = 0; p < result.data[i].passages.length; p++){
									var thisPassage = result.data[i].passages[p];
									var annotationsArr;
									if(thisPassage.sentences.length == 0){
										var thisNum = countStarsNum(thisPassage.annotations);
										thisStarsMaxNum = thisNum > thisStarsMaxNum ? thisNum : thisStarsMaxNum;
									}else{
										for(var s = 0; s < thisPassage.sentences.length; s++){
											var thisNum = countStarsNum(thisPassage.sentences[s].annotations);
											thisStarsMaxNum = thisNum > thisStarsMaxNum ? thisNum : thisStarsMaxNum;
										}
									}
								}
								thisStarsHtml = funcGenerateStarsHtmlFromCount(thisStarsMaxNum);
								
								// 2021-10-22：单独拼接摘要！
								let thisPubObj = result.data[i].passages[0].infons; // 当前文献对象！
								let thisPubObjAbstract = "";
								let checkAbstractPassages = 0;
								intMatchingTab == 0 ? allPassages.push(result.data[i].passages[0]) : allPassagesFuzzy.push(result.data[i].passages[0]); // 收录标题相关的passage！
								for(var a = 1; a < result.data[i].passages.length; a++){
									var thisPassageObj = result.data[i].passages[a];
									if(funcJudgeAbstract(thisPassageObj)){
										intMatchingTab == 0 ? allPassages.push(thisPassageObj) : allPassagesFuzzy.push(thisPassageObj); // 收录当前摘要相关的passage！
										//var thisAnnotatedText = getTextHtml(thisPassageObj, true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
										var thisAnnotatedText = "";
										if(thisPassageObj.sentences.length == 0){
											thisAnnotatedText = getTextHtml(thisPassageObj, true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
										}else{
											for(var s = 0; s < thisPassageObj.sentences.length; s++){
												var thisSentenceHtml = getTextHtml(thisPassageObj.sentences[s], true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
												//console.log("+++: " + thisSentenceHtml);
												thisAnnotatedText = thisAnnotatedText == "" ? thisSentenceHtml : thisAnnotatedText + " " + thisSentenceHtml;
											}
										}
										var thisPassageObjText = thisPassageObj.infons.type.indexOf("abstract_title") > -1 ? "<b><i>" + thisAnnotatedText + "</i></b>" : thisAnnotatedText;
										thisPubObjAbstract = thisPubObjAbstract == "" ? thisPassageObjText : thisPubObjAbstract + "<br>" + thisPassageObjText;
										checkAbstractPassages = 1; // 更新！
									}else if(checkAbstractPassages == 1){
										break; // 说明abstract已经经过了，后面可以不处理了！
									}
								}
								
								thisPubHtml +=
									'			<td>' +
									
									//'				<p class="result-title">' + thisPubObj.title + '</p>' +
									//'				<p class="result-title">' + result.data[i].passages[0].text + " " + thisStarsHtml + '</p>' +
									'				<p class="result-title">' + getTitleHtml(result.data[i].passages[0], true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc) + '</p>' +
									
									'				<p class="result-authors">' + thisPubObj.authors + '</p>' +
									
									//'				<p class="result-journal">' + thisPubObj.citation + ' <a href="https://pubmed.ncbi.nlm.nih.gov/' + thisPubObj.pmid + '/" target="_blank">PMID:' + thisPubObj.pmid + ' <i class="bx bx-link"></i></a>' + (thisPubObj.pmcid != null && thisPubObj.pmcid != '' ? ', <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/' + thisPubObj.pmcid + '/" target="_blank">' + thisPubObj.pmcid + ' <i class="bx bx-link"></i></a>' : '') + '</p>' +
									'				<p class="result-journal">' + thisPubObj.journal + ', <a href="https://pubmed.ncbi.nlm.nih.gov/' + thisPubObj.article_id_pmid + '/" target="_blank">PMID:' + thisPubObj.article_id_pmid + ' <i class="bx bx-link"></i></a>' + (thisPubObj.article_id_pmc != null && thisPubObj.article_id_pmc != '' ? ', <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC' + thisPubObj.article_id_pmc + '/" target="_blank">PMC' + thisPubObj.article_id_pmc + ' <i class="bx bx-link"></i></a>' : '') + '</p>' +
									
									//'				<p class="result-abstract lookmoretop"><span style="cursor:pointer;" onclick="funcShowMoreOrHide(this)">' + thisPubObj.abstract + '</a></p>' +
									'				<p class="result-abstract lookmoretop" id="idPAbstract' + thisPubNo + thisTabSymbol + '">' + thisPubObjAbstract + '</p>' +
									
									'				<p class="result-functions">' +
									'					<a href="javascript:;" onclick="funcSingleUserModeRead(\'' + thisPubObj.article_id_pmid + '\')"><span class="layui-badge layui-bg-blue"><i class="layui-icon layui-icon-read"></i> Read</span></a>';
								
								// Cited By & Similar!
								var thisIdCitedBy = 'idCitedByFor' + thisPubNo + thisTabSymbol;
								var thisIdSimilar = 'idSimilarFor' + thisPubNo + thisTabSymbol;
								thisPubHtml += 
									'					<span id="' + thisIdCitedBy + '"></span>' +
									'					<span id="' + thisIdSimilar + '"></span>';
								$.ajax({
									type: "get",
									//url: strApiCbSearching + thisPubObj.article_id_pmid,
									url: thisUrl, // 2021-11-08测试！
									async: true,
									contentType: "application/json; charset=utf-8",
									dataType: "json",
									success: function (res) {
										var checkPositionChange = false;
										if(res != null && res.data != null && res.data.length > 0){
											$("#" + thisIdCitedBy).html('<a href="javascript:;" onclick="funcAddRelatedAfterItem(\'' + thisPubNo + thisTabSymbol + '\', \'C\', ' + JSON.stringify(res.data).replace(/"/g, '&quot;') + ', false, ' + intMatchingTab + ')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-link"></i> Cited by</span></a>');
											checkCitedBy = true;
										}else{
											// 没有数据，不填充即可，意味着similar的位置需要调整！
											checkPositionChange = true;
										}
										
										// Similar!
										$.ajax({
											type: "get",
											//url: strApiSiSearching + thisPubObj.article_id_pmid,
											url: thisUrl, // 2021-11-08测试！
											async: true,
											contentType: "application/json; charset=utf-8",
											dataType: "json",
											success: function (similarRes) {
												if(res != null && res.data != null && res.data.length > 0){
													$("#" + thisIdSimilar).html('<a href="javascript:;" onclick="funcAddRelatedAfterItem(\'' + thisPubNo + thisTabSymbol + '\', \'S\', ' + JSON.stringify(similarRes.data).replace(/"/g, '&quot;') + ', ' + checkPositionChange + ', ' + intMatchingTab + ')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-senior"></i> Similar</span></a>');
												}
											}
										});
									}
								});
								//if(thisPubObj.citedby != null && thisPubObj.citedby.length != 0){
								//	thisPubHtml +=
								//	'					<a href="javascript:;" onclick="funcAddRelatedAfterItem(\'' + thisPubNo + thisTabSymbol + '\', \'C\', ' + JSON.stringify(thisPubObj.citedby).replace(/"/g, '&quot;') + ', false, ' + intMatchingTab + ')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-link"></i> Cited by</span></a>';
								//}
								//if(thisPubObj.similar != null && thisPubObj.similar.length != 0){
								//	// 确定关联模块的位置是否需要调整！
								//	var checkPositionChange = false;
								//	if(thisPubObj.citedby == null || thisPubObj.citedby.length == 0) checkPositionChange = true;
								//	// 添加html！
								//	thisPubHtml +=
								//	'					<a href="javascript:;" onclick="funcAddRelatedAfterItem(\'' + thisPubNo + thisTabSymbol + '\', \'S\', ' + JSON.stringify(thisPubObj.similar).replace(/"/g, '&quot;') + ', ' + checkPositionChange + ', ' + intMatchingTab + ')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-senior"></i> Similar</span></a>';
								//}
								
								if(currentUser != null && currentUser.accountType == "1"){
									thisPubHtml +=
									'					<a href="javascript:;" onclick="funcAddPub2Library(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-add-1"></i> Add</span></a>';
								}
								
								// 统一加上影响因子！
								thisPubHtml +=
									'					' + (thisPubObj.if2020 !== null && thisPubObj.if2020 !== '' ? ' <span class="layui-badge-rim"><i class="layui-icon layui-icon-fire"></i> ' + 'IF2020: ' + thisPubObj.if2020 + '</span>' : '');
								
								if(currentUser != null){
									thisPubHtml +=
									'					<span class="layui-badge-rim"><i class="layui-icon layui-icon-list"></i> Collections: <span id="loadingCollections-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span>' +
									'					<a href="javascript:;" onclick="funcStarPub(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge-rim"><span id="loadingStarred1-' + thisPubNo + thisTabSymbol + '"><i class="layui-icon layui-icon-star"></i></span> Star: <span id="loadingStarred2-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span></a>' +
									'					<a href="javascript:;" onclick="funcCommentPub(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge-rim"><i class="layui-icon layui-icon-dialogue"></i> Comments: <span id="loadingComments-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span></a>';
								}
								
								// 摘要内容的显示隐藏！
								thisPubHtml +=
									'					<span class="layui-badge layui-bg-gray">Most Stars: <span class="pubLevel" onclick="funcScreenPubStars(' + (intMatchingTab+1) + ', this)">' + thisStarsHtml + '</span></span>' +
									'					<a href="javascript:;" onclick="funcShowMoreOrHide(\'idPAbstract' + thisPubNo + thisTabSymbol + '\', this)"><span class="layui-badge layui-bg-gray"><i class="layui-icon layui-icon-addition"></i> Abstract</span></a>';
								
								thisPubHtml +=
									'				</p>' +
									'			</td>' +
									'		</tr>' +
									'	</table>' +
									'</div>';
								allCurrentSearchingPubHtml += thisPubHtml;
								
								// 去后台数据库的文献表中查询：如果不存在就插入，存在的话就返回统计数字并替换！
								if(currentUser != null){
									funcLoadingStarred(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
									funcLoadingCollections(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
									funcLoadingComments(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
								}
								
							}
							
						}
						
						// 检索结果显示！
						var strIdDivSearchingResults = intMatchingTab == 0 ? "idDivSearchingResults" : "idDivSearchingResultsFuzzy";
						if($("#" + strIdDivSearchingResults).html() === strDefaultPubResultHtml){
							$("#" + strIdDivSearchingResults).html(allCurrentSearchingPubHtml);
						}else if(intPage == 1){
							$("#" + strIdDivSearchingResults).html(allCurrentSearchingPubHtml);
						}else{
							$("#" + strIdDivSearchingResults).append(allCurrentSearchingPubHtml);
						}
						
						// 实体点击效果！
						funcEntityClick();
						
						// 左侧实体分组显示！
						let $group = intMatchingTab == 0 ? $('#groupControlsShow') : $('#groupControlsShowFuzzy');
						$group.html(""); // 由于存在循环，需要先清空！
						for (let i = 0; i < groups.length; i++) {
							let option = $('<div title="' + groupDescription[groups[i]] + '"' + ' class="select-option' + (i === 0 ? ' selected' : '') + '" data-index="' + i + '">' + groups[i] + '</div>');
							option.on('click', function (e) {
								setGroup(e.target, i, intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab); // 点击设置实体分组方式！
							})
							$group.append(option);
						}
						$group.next().text(groups[0]); // 分组类别选中结果的显示！
						
						// 左侧实体分组后的排序！
						let $sort = intMatchingTab == 0 ? $('#sortControlsShow') : $('#sortControlsShowFuzzy');
						$sort.html(""); // 由于存在循环，需要先清空！
						for (let i = 0; i < sorts.length; i++) {
							let option = $('<div class="select-option' + (i === 0 ? ' selected' : '') + '" data-index="' + i + '">' + (sorts[i].niceField || sorts[i].field) + '</div>');
							option.on('click', function (e) {
								setSort(e.target, i, intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab); // 点击设置实体排序方式！
							})
							$sort.append(option);
						}
						$sort.next().text(sorts[0].niceField || sorts[0].field); // 排序方式选中结果的显示！
						
						// 过滤实体！
						$('#filterText' + thisTabSymbol).bind('input propertychange', function () {
							initSearch(intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab);
						});
						$('#filterText' + thisTabSymbol).change(function () {
							initSearch(intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab);
						});
						
						// 加载所有概念！
						loadSummaryConcepts(intMatchingTab == 0 ? allPassages : allPassagesFuzzy, intMatchingTab);
						
						// 左侧实体列表处理完毕之后，显示相应div！
						intMatchingTab == 0 ? $('#summary').show() : $('#summaryFuzzy').show();
							
					}
					
					return false;
				}
			});
			return false;
		}
		
		/* 分割线 */
		var objParamSetting = {
			type: 1,
			title: 'Parameters Setting',
			shadeClose: true,
			closeBtn: 0,
			area: ['500px'], // 宽设置，高度自适应！
			content: 
				'<div class="divParamsSetting">' +
				'	<div class="card-title"><b>Num Per Page: </b></div>' +
				'	<div class="concept-switch concept" onclick="numPerPage_toggle(10)"><span class="far icon" id="idNumPerPageIcon10"></span> 10 / page</div>' +
				'	<div class="concept-switch concept" onclick="numPerPage_toggle(20)"><span class="far icon" id="idNumPerPageIcon20"></span> 20 / page</div>' +
				'	<div class="concept-switch concept" onclick="numPerPage_toggle(30)"><span class="far icon" id="idNumPerPageIcon30"></span> 30 / page</div>' +
				'	<div class="concept-switch concept" onclick="numPerPage_toggle(50)"><span class="far icon" id="idNumPerPageIcon50"></span> 50 / page</div>' +
				'	<div class="concept-switch concept" onclick="numPerPage_toggle(100)"><span class="far icon" id="idNumPerPageIcon100"></span> 100 / page</div>' +
				'	<div style="clear: both;"></div><hr>' +
				'	<div class="card-title"><b>Dataset Type: </b></div>' +
				'	<div class="concept-switch concept" onclick="datasetType_toggle(\'Cancer\')"><span class="far icon" id="idDatasetTypeIconCancer"></span> Cancer Related</div>' +
				'	<div class="concept-switch concept" onclick="datasetType_toggle(\'All\')"><span class="far icon" id="idDatasetTypeIconAll"></span> All Publications</div>' +
				'	<div style="clear: both;"></div><hr>' +
				'	' + $('#idDivBioConcepts').html() +
				'	<div style="clear: both;"></div>' +
				'</div>'
		};
		
		// 到顶部！
		if(currentUser != null && currentUser.accountType == "1"){
			util.fixbar({
				bar1 : '&#xe654;',
				bar2 : '&#xe716;',
				top:true,
				bgcolor: '#0299CC',
				css: { right: 15, bottom: 15 },
				showHeight:100,
				click: function (type) {
					if (type === 'bar1') { // 批量添加文献！
						var strPmids   = "";
						var strArrPubInfos = [];
						$('input[name="addBatchPubCheckBox"]:checked').each(function(){
							strArrPubInfos.push($(this).val());
							var strArrThisValue = $(this).val().split("|");
							strPmids = strPmids == "" ? strArrThisValue[0] : strPmids + "," + strArrThisValue[0];
						});
						if(strPmids == ""){
							layer.msg("Please select the publication you want to add..");
							return false;
						}else{
							var layIndex = admin.open({
								title: '<i class="layui-icon">&#xe654;</i> Add Publications: "' + strPmids + '" Into Library',
								url: 'lrAddIntoLibrary',
								area: '800px',
								data: { data: {strPmids: strPmids} }, // 传递数据到表单页面
								end: function () {
									var layerData = admin.getLayerData(layIndex, 'formOk');
									if (layerData) { // 判断表单操作成功标识
										// 更新Collections数量！
										for(var i = 0; i < strArrPubInfos.length; i++){
											var strArrThisValue = strArrPubInfos[i].split("|");
											funcLoadingCollections(strArrThisValue[1], strArrThisValue[0]);
										}
									}
								},
								success: function (layero, dIndex) {
									// 弹窗超出范围不出现滚动条
									$(layero).children('.layui-layer-content').css('overflow', 'visible');
									$(layero).find('[lay-submit]').focus();
								}
							});
							return false;
						}
					}
					if (type === 'bar2') { // 参数设置！
						layer.open(objParamSetting);
						$("#idNumPerPageIcon" + $("#idNumPerPage").val()).parent().click(); // 当前条数的回显！
						$("#idDatasetTypeIcon" + $("#idDatasetType").val()).parent().click(); // 当前数据集类型的回显！
					}
					if (type === 'top') {
						$('.layui-body').animate({
							scrollTop: 0
						}, 200);
					}
				}
			});
		}else{
			util.fixbar({
				bar2 : '&#xe716;',
				top:true,
				bgcolor: '#0299CC',
				css: { right: 15, bottom: 15 },
				showHeight:100,
				click: function (type) {
					if (type === 'bar2') { // 参数设置！
						layer.open(objParamSetting);
						$("#idNumPerPageIcon" + $("#idNumPerPage").val()).parent().click(); // 当前条数的回显！
						$("#idDatasetTypeIcon" + $("#idDatasetType").val()).parent().click(); // 当前数据集类型的回显！
					}
					if (type === 'top') {
						$('.layui-body').animate({
							scrollTop: 0
						}, 200);
					}
				}
			});
		}
		
		// 设置左侧样式！
		funcDivLeftAdjust();
		$(window).resize(function () { // 监听窗口变化！
			funcDivLeftAdjust();
		});
		$(".layui-tab-title").click(function(){
			funcDivLeftAdjust();
		});
		$("#idEntityBasedMatching").click(function(){
			$("#idMentionBasedMatching").removeClass("layui-this");
			$(this).addClass("layui-this");
			funcDivLeftAdjust();
		});
		$("#idMentionBasedMatching").click(function(){
			$("#idEntityBasedMatching").removeClass("layui-this");
			$(this).addClass("layui-this");
			funcDivLeftAdjust();
		});
		
	});
	
	// 左侧div样式调整！
	function funcClearAllClassDivLeft(){
		$("#idDivLeft").removeClass("leftDivBottom");
		$("#idDivLeftFuzzy").removeClass("leftDivBottom");
		$("#idDivLeft").removeClass("leftDivTop");
		$("#idDivLeftFuzzy").removeClass("leftDivTop");
		
		// 2021-10-29：解决“BioConcepts”重复出现的问题！
		//console.log($("#idEntityBasedMatching").parent().html());
		if($("#idEntityBasedMatching").hasClass("layui-this")){
			//console.log('$("#idEntityBasedMatching").hasClass("layui-this")');
			$("#idDivLeft").show();
			$("#idDivLeftFuzzy").hide();
			
			if($("#idSearchingMode").val() == 'remote'){
				$("#idDivSearchingResults").show(); // 远程检索，直接显示结果！
				$("#idDivStandardItemConfirm").hide(); // 远程检索，不显示词条确认！
			}else if($("#idLitKeyword").val().trim().substr(0,1) !== '@' && $("#idLitKeyword").val().trim().indexOf(" AND ") == -1 && $("#idLitKeyword").val().trim().indexOf(" OR ") == -1){
				$("#idDivStandardItemConfirm").show();
				$("#idDivSearchingResults").hide();
				$("#idDivShowMore").hide();
			}else{
				$("#idDivStandardItemConfirm").hide();
				$("#idDivSearchingResults").show();
				$("#idDivShowMore").show();
			}
			$("#idDivShowMoreFuzzy").hide(); // Mention-based的btn隐藏！
			$("#idDivSearchingResultsFuzzy").hide(); // Mention-based的div隐藏！
		}else{
			//console.log('NO: $("#idEntityBasedMatching").hasClass("layui-this")');
			$("#idDivLeft").hide();
			$("#idDivLeftFuzzy").show();
			
			$("#idDivShowMore").hide(); //  Entity-based的btn隐藏！
			$("#idDivStandardItemConfirm").hide(); // Entity-based的两个div都隐藏！
			$("#idDivSearchingResults").hide(); // Entity-based的两个div都隐藏！
			
			$("#idDivShowMoreFuzzy").show(); // Mention-based的btn隐藏！
			$("#idDivSearchingResultsFuzzy").show(); // Mention-based的div隐藏！
		}
	}
	function funcDivLeftAdjust(){
		// 获取要定位元素距离浏览器顶部的距离！
		var navH = $("#idDivTab1 .result-col1").offset().top;
		var navHFuzzy = $("#idDivTab2 .result-col1").offset().top;
		$("#idDivLeft").height($(window).height() - navH - 41); // 初始高度！
		$("#idDivLeftFuzzy").height($(window).height() - navHFuzzy - 41); // 初始高度！
		funcClearAllClassDivLeft();
		// 滚动条事件！
		$(window).scroll(function(){
			funcClearAllClassDivLeft();
			navH = $("#idDivTab1 .result-col1").offset().top;
			navHFuzzy = $("#idDivTab2 .result-col1").offset().top;
			// 获取滚动条的滑动距离！
			var scroH = $(this).scrollTop();
			// 滚动条的滑动距离大于165就固定，反之就不固定！
			if(scroH >= 165){
				$("#idDivLeft").addClass("leftDivTop");
				$("#idDivLeftFuzzy").addClass("leftDivTop");
				$("#idDivLeft").height($(window).height() - 41); // 窗口高度减去导航条高度加上滚动距离！
				$("#idDivLeftFuzzy").height($(window).height() - 41); // 窗口高度减去导航条高度加上滚动距离！
			}else if(scroH < 165){
				$("#idDivLeft").addClass("leftDivBottom");
				$("#idDivLeftFuzzy").addClass("leftDivBottom");
				$("#idDivLeft").height($(window).height() - navH - 41); // 恢复到初始高度！
				$("#idDivLeftFuzzy").height($(window).height() - navHFuzzy - 41); // 恢复到初始高度！
			}
		});
	}
	
	// 更新各个文献被Starred的数量！
	function funcLoadingStarred(numPub, intPmid){
		$.ajax({
			type: "post",
			url: "/funcSuggest/detail",
			dataType: "json",
			async: true,
			data: JSON.stringify({pmid: intPmid}),
			contentType: "application/json; charset=utf-8",
			success: function(result){
				if(result.data){
					var thisData = result.data.split(",");
					if(thisData[0] == "1"){
						$("#loadingStarred1-" + numPub).html('<i class="layui-icon layui-icon-star-fill"></i>');
					}else{
						$("#loadingStarred1-" + numPub).html('<i class="layui-icon layui-icon-star"></i>');
					}
					$("#loadingStarred2-" + numPub).html(thisData[1]);
				}else{
					$("#loadingStarred1-" + numPub).html('');
					$("#loadingStarred2-" + numPub).html('-');
				}
				return false;
			}
		});
		return false;
	}
	
	// 更新各个文献相关的Collections的数量！
	function funcLoadingCollections(numPub, intPmid){
		$.ajax({
			type: "post",
			url: "/librariesPublications/statCollectionsFromPub",
			dataType: "json",
			async: true,
			data: JSON.stringify({pmid: intPmid}),
			contentType: "application/json; charset=utf-8",
			success: function(result){
				$("#loadingCollections-" + numPub).html(result.data);
				return false;
			}
		});
		return false;
	}
	
	// 更新各个文献相关的Comments的数量！
	function funcLoadingComments(numPub, intPmid){
		$.ajax({
			type: "post",
			url: "/funcComments/stat",
			dataType: "json",
			async: true,
			data: JSON.stringify({pmid: intPmid}),
			contentType: "application/json; charset=utf-8",
			success: function(result){
				if(result.data || result.data == 0){
					$("#loadingComments-" + numPub).html(result.data);
				}else{
					$("#loadingComments-" + numPub).html("-");
				}
				return false;
			}
		});
		return false;
	}
	
	// 直接阅读文献！
	function funcSingleUserModeRead(intPmid){
		var layIndex = admin.open({
			title: '<i class="layui-icon">&#xe630;</i> Select A Data Collection Form to Read This Publication',
			url: 'lrSelectFormToRead',
			area: '800px',
			data: { data: {pmid: intPmid} },	 // 传递数据到表单页面
			end: function () {
				var layerData = admin.getLayerData(layIndex, 'formOk');
				if (layerData) {  // 判断表单操作成功标识
					// 暂时啥也不干！
				}
			},
			success: function (layero, dIndex) {
				// 弹窗超出范围不出现滚动条
				$(layero).children('.layui-layer-content').css('overflow', 'visible');
				$(layero).find('[lay-submit]').focus();
			}
		});
	}
	
	// 添加文献相关的文献！
	function funcAddRelatedAfterItem(intItemId, strType, arrObj, checkPositionChange, intMatchingTab){
		var thisPubNoRoot = intItemId + strType;
		var relatedItemsType = 'classRelatedItemsFor' + strType;
		var relatedItemsSymbol = relatedItemsType + intItemId;
		// 判断当前文献的相关文献是否已经显示了！
		var checkReturn = false;
		var nextDivObj = $("#idDivPubSearchingItem" + intItemId).next();
		if(nextDivObj != null && nextDivObj.hasClass(relatedItemsSymbol)) checkReturn = true;
		if(nextDivObj != null && nextDivObj.hasClass("classRelatedItems")){
			nextDivObj.remove(); // 对于是管理文献的模块，先清除掉！
			if(checkReturn) return false; // 然后根据是否是同一类型的关联（相似或者引用）来判断是否还要进行后续的显示！
		}
		// 没有显示的情况下，继续后续的操作：显示该div！
		var changePosition = "";
		if(checkPositionChange) changePosition = " change";
		var itemRelatedHtml = '<div class="layui-col-xs12 animated zoomIn classRelatedItems ' + relatedItemsType + ' ' + relatedItemsSymbol + changePosition + '">';
		for(var i = 0; i < arrObj.length; i++){
			var thisPubNo  = thisPubNoRoot + ( i + 1 );
			var thisTabSymbol = intMatchingTab == 0 ? "" : "Fuzzy";
			//var thisPubObj = arrObj[i];
			var thisPubObj = arrObj[i].passages[0].infons;
			
			// 2021-10-27：按照单句中出现的实体类别数量的最大值进行标星！
			var thisStarsMaxNum = 0;
			var thisStarsHtml = "";
			for(var p = 0; p < arrObj[i].passages.length; p++){
				var thisPassage = arrObj[i].passages[p];
				var annotationsArr;
				if(thisPassage.sentences.length == 0){
					var thisNum = countStarsNum(thisPassage.annotations);
					thisStarsMaxNum = thisNum > thisStarsMaxNum ? thisNum : thisStarsMaxNum;
				}else{
					for(var s = 0; s < thisPassage.sentences.length; s++){
						var thisNum = countStarsNum(thisPassage.sentences[s].annotations);
						thisStarsMaxNum = thisNum > thisStarsMaxNum ? thisNum : thisStarsMaxNum;
					}
				}
			}
			thisStarsHtml = funcGenerateStarsHtmlFromCount(thisStarsMaxNum);
			
			// 2021-10-22：单独拼接摘要！
			let thisPubObjAbstract = "";
			let checkAbstractPassages = 0;
			for(var a = 1; a < arrObj[i].passages.length; a++){
				var thisPassageObj = arrObj[i].passages[a];
				if(funcJudgeAbstract(thisPassageObj)){
					//var thisAnnotatedText = getTextHtml(thisPassageObj, true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
					var thisAnnotatedText = "";
					if(thisPassageObj.sentences.length == 0){
						thisAnnotatedText = getTextHtml(thisPassageObj, true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
					}else{
						for(var s = 0; s < thisPassageObj.sentences.length; s++){
							var thisSentenceHtml = getTextHtml(thisPassageObj.sentences[s], true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc);
							//console.log("+++: " + thisSentenceHtml);
							thisAnnotatedText = thisAnnotatedText == "" ? thisSentenceHtml : thisAnnotatedText + " " + thisSentenceHtml;
						}
					}
					var thisPassageObjText = thisPassageObj.infons.type.indexOf("abstract_title") > -1 ? "<b><i>" + thisAnnotatedText + "</i></b>" : thisAnnotatedText;
					thisPubObjAbstract = thisPubObjAbstract == "" ? thisPassageObjText : thisPubObjAbstract + "<br>" + thisPassageObjText;
					checkAbstractPassages = 1; // 更新！
				}else if(checkAbstractPassages == 1){
					break; // 说明abstract已经经过了，后面可以不处理了！
				}
			}
			
			itemRelatedHtml += 
				'<div class="layui-col-xs12" id="idDivRelatedItems' + thisPubNo + thisTabSymbol + '">' +
				'	<table>' +
				'		<tr>';
			if(currentUser == null){
				itemRelatedHtml +=
				'			<td class="result-num"><i class="subItems">' + ( i + 1 ) + '</i></td>';
			}else{
				itemRelatedHtml +=
				'			<td class="result-num"><input type="checkbox" name="addBatchPubCheckBox" value="' + thisPubObj.article_id_pmid + '|' + thisPubNo + thisTabSymbol + '" /> &nbsp;<i class="subItems">' + ( i + 1 ) + '</i></td>';
			}
			itemRelatedHtml +=
				'			<td>' +
				'				<p class="result-title">' + getTitleHtml(arrObj[i].passages[0], true, thisPubObj.article_id_pmid, thisPubObj.article_id_pmc) + '</p>' +
				'				<p class="result-authors">' + thisPubObj.authors + '</p>' +
				'				<p class="result-journal">' + thisPubObj.journal + ' <a href="https://pubmed.ncbi.nlm.nih.gov/' + thisPubObj.article_id_pmid + '/" target="_blank">PMID:' + thisPubObj.article_id_pmid + ' <i class="bx bx-link"></i></a>' + (thisPubObj.article_id_pmc != null && thisPubObj.article_id_pmc != '' ? ', <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC' + thisPubObj.article_id_pmc + '/" target="_blank">PMC' + thisPubObj.article_id_pmc + ' <i class="bx bx-link"></i></a>' : '') + '</p>' +
				'				<p class="result-abstract lookmoretop" id="idPAbstract' + thisPubNo + thisTabSymbol + '">' + thisPubObjAbstract + '</p>';
			itemRelatedHtml +=
				'				<p class="result-functions">' +
				'					<a href="javascript:;" onclick="funcSingleUserModeRead(\'' + thisPubObj.article_id_pmid + '\')"><span class="layui-badge layui-bg-blue"><i class="layui-icon layui-icon-read"></i> Read</span></a>';
				
			// 添加到文库！
			if(currentUser != null && currentUser.accountType == "1"){
				itemRelatedHtml +=
				'					<a href="javascript:;" onclick="funcAddPub2Library(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge layui-bg-orange"><i class="layui-icon layui-icon-add-1"></i> Add</span></a>';
			}
			
			// 统一加上影响因子！
			itemRelatedHtml +=
				'					' + (thisPubObj.if2020 !== null && thisPubObj.if2020 !== '' ? ' <span class="layui-badge-rim"><i class="layui-icon layui-icon-fire"></i> ' + 'IF2020: ' + thisPubObj.if2020 + '</span>' : '');
			
			// 星标、备注等与账号相关的！
			if(currentUser != null){
				itemRelatedHtml +=
				'					<span class="layui-badge-rim"><i class="layui-icon layui-icon-list"></i> Collections: <span id="loadingCollections-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span>' +
				'					<a href="javascript:;" onclick="funcStarPub(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge-rim"><span id="loadingStarred1-' + thisPubNo + thisTabSymbol + '"><i class="layui-icon layui-icon-star"></i></span> Star: <span id="loadingStarred2-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span></a>' +
				'					<a href="javascript:;" onclick="funcCommentPub(' + JSON.stringify(thisPubObj).replace(/"/g, '&quot;') + ', \'' + thisPubNo + thisTabSymbol + '\')"><span class="layui-badge-rim"><i class="layui-icon layui-icon-dialogue"></i> Comments: <span id="loadingComments-' + thisPubNo + thisTabSymbol + '"><img src="/assets/images/loading.gif" class="loadingGif"></span></span></a>';
			}
			
			// 摘要内容的显示隐藏！
			itemRelatedHtml +=
				'					<span class="layui-badge layui-bg-gray">Most Stars: <span class="pubLevel" onclick="funcScreenPubStars(' + (intMatchingTab+1) + ', this)">' + thisStarsHtml + '</span></span>' +
				'					<a href="javascript:;" onclick="funcShowMoreOrHide(\'idPAbstract' + thisPubNo + thisTabSymbol + '\', this)"><span class="layui-badge layui-bg-gray"><i class="layui-icon layui-icon-addition"></i> Abstract</span></a>';
			
			itemRelatedHtml +=
				'				</p>' +
				'			</td>' +
				'		</tr>' +
				'	</table>' +
				'</div>';
			
			// 去后台数据库的文献表中查询：如果不存在就插入，存在的话就返回统计数字并替换！
			if(currentUser != null){
				funcLoadingStarred(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
				funcLoadingCollections(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
				funcLoadingComments(thisPubNo + thisTabSymbol, thisPubObj.article_id_pmid);
			}
		}
		if(arrObj.length > 0){
			itemRelatedHtml += '</div>';
		}else{
			itemRelatedHtml = '';
		}
		$("#idDivPubSearchingItem" + intItemId).after(itemRelatedHtml);
		
		// 实体点击效果！
		funcEntityClick();
	}
	
	// 摘要文本的显示或隐藏！
	function funcShowMoreOrHide(thisId, othis){
		if($("#" + thisId).hasClass("lookmoretop")){
			$("#" + thisId).removeClass("lookmoretop");
			$(othis).html('<span class="layui-badge layui-bg-gray"><i class="layui-icon layui-icon-subtraction"></i> Abstract</span>');
		}else{
			$("#" + thisId).addClass("lookmoretop");
			$(othis).html('<span class="layui-badge layui-bg-gray"><i class="layui-icon layui-icon-addition"></i> Abstract</span>');
		}
	}
	
	// 将文献添加到Library中！
	function funcAddPub2Library(objPub, numPub){
		objPub.pmid = objPub.article_id_pmid;
		objPub.pmcid = objPub.article_id_pmc;
		var layIndex = admin.open({
			title: '<i class="layui-icon">&#xe654;</i> Add Publication "' + objPub.article_id_pmid + '" Into Library',
			url: 'lrAddIntoLibrary',
			area: '800px',
			data: { data: objPub },	 // 传递数据到表单页面
			end: function () {
				var layerData = admin.getLayerData(layIndex, 'formOk');
				if (layerData) {  // 判断表单操作成功标识
					// 更新Collections数量！
					funcLoadingCollections(numPub, objPub.article_id_pmid);
				}
			},
			success: function (layero, dIndex) {
				// 弹窗超出范围不出现滚动条
				$(layero).children('.layui-layer-content').css('overflow', 'visible');
				$(layero).find('[lay-submit]').focus();
			}
		});
		return false;
	}
	
	// 星标文献！
	function funcStarPub(objPub, numPub){
		$.ajax({
			type: "post",
			url: "/funcSuggest/add",
			dataType: "json",
			async: true,
			//data: JSON.stringify({pmid: objPub.pmid}),
			data: JSON.stringify({pmid: objPub.article_id_pmid}),
			contentType: "application/json; charset=utf-8",
			success: function(result){
				if(result.data){
					var thisData = result.data.split(",");
					if(thisData[0] == "1"){
						$("#loadingStarred1-" + numPub).html('<i class="layui-icon layui-icon-star-fill"></i>');
					}else{
						$("#loadingStarred1-" + numPub).html('<i class="layui-icon layui-icon-star"></i>');
					}
					$("#loadingStarred2-" + numPub).html(thisData[1]);
				}else{
					$("#loadingStarred1-" + numPub).html('');
					$("#loadingStarred2-" + numPub).html('-');
				}
				return false;
			}
		});
		return false;
	}
	
	// 查看文献相关备注！
	function funcCommentPub(objPub, numPub){
		var layIndex = admin.open({
			//title: 'Publication "PMID' + objPub.pmid + '" Comments',
			title: 'Publication "PMID' + objPub.article_id_pmid + '" Comments',
			url: 'funcComments/index',
			area: '800px',
			//data: { data: objPub },	 // 传递数据到表单页面
			data: { data: {pmid: objPub.article_id_pmid} },	 // 传递数据到表单页面
			end: function () {
				//funcLoadingComments(numPub, objPub.pmid);
				funcLoadingComments(numPub, objPub.article_id_pmid);
			},
			success: function (layero, dIndex) {
				// 弹窗超出范围不出现滚动条
				$(layero).children('.layui-layer-content').css('overflow', 'visible');
				$(layero).find('[lay-submit]').focus();
			}
		});
		return false;
	}
	
	// 每页显示条数修改！
	function numPerPage_toggle(num){
		var oriNum = $("#idNumPerPage").val();
		console.log("numPerPage_toggle: " + num + ", oriNum: " + oriNum);
		$(".numPerPageBeforeStyle").each(function(){
			$(this).remove();
		});
		$("#idNumPerPage").val(num); // 设置页数！
		localStorage.setItem('paramNo', num); // 同步更新本地存储的值！
		$("#idNumPerPageIcon" + num).append('<style class="numPerPageBeforeStyle">#idNumPerPageIcon' + num + '::before{font-weight: 600; content: ""}</style>');
		if(oriNum != num) $("#idSubmit").click(); // 每页条数与之前的不一致的情况下，重新检索！
	}
	
	// 默认检索的数据集类型！
	function datasetType_toggle(strType){
		var strOriType = $("#idDatasetType").val();
		console.log("datasetType_toggle: " + strType + ", strOriType: " + strOriType);
		$(".datasetTypeBeforeStyle").each(function(){
			$(this).remove();
		});
		$("#idDatasetType").val(strType); // 设置数据集类型！
		localStorage.setItem('paramDt', strType); // 同步更新本地存储的值！
		$("#idDatasetTypeIcon" + strType).append('<style class="datasetTypeBeforeStyle">#idDatasetTypeIcon' + strType + '::before{font-weight: 600; content: ""}</style>');
		if(strOriType != strType) $("#idSubmit").click(); // 数据集类型与之前的不一致的情况下，重新检索！
	}
	
	// 文献星标等级筛选！
	function funcScreenPubStars(intTab, othis){
		let bolCheckHide = false;
		// 先遍历一轮，看看是否存在已隐藏的文献！
		$("#idDivTab" + intTab + " .pubLevel").each(function(){
			if($(this).parent().parent().parent().parent().parent().parent().parent().is(':hidden')){ bolCheckHide = true; }
		});
		// 再遍历一轮：根据前面的结果，确定这里是显示全部文献，还是只显示与当前文献相同等级的文献！
		$("#idDivTab" + intTab + " .pubLevel").each(function(){
			if(bolCheckHide){
				$(this).parent().parent().parent().parent().parent().parent().parent().show(); // 显示全部文献！
				funcShowOrHideNoContent(true);
			}else{
				if($(this).html() != $(othis).html()){
					$(this).parent().parent().parent().parent().parent().parent().parent().hide(); // 隐藏与当前文献等级不同的文献：即只显示相同等级的文献！
				}
				funcShowOrHideNoContent(false);
			}
		});
	}
	function funcShowOrHideNoContent(bolShow){
		$(".nocontent").each(function(){
			if(bolShow){
				$(this).parent().parent().parent().parent().parent().show(); // 显示全部nocontent文献！
			}else{
				$(this).parent().parent().parent().parent().parent().hide(); // 隐藏全部nocontent文献！
			}
		});
	}
	
	// ================================================================= //
	
	//获取全部概念类别！
	function getAllConcepts() {
		let all;
		$.ajax({
			url: '/assets/module/hjf-ptc/data/concept_list.json',
			dataType: 'json',
			async: false,
			success: function (concepts) {
				let extendedConcepts = _.map(concepts, function (o) {
					o.show = true;
					o.identifier = o._id; // TODO identifier useless since we have _id in DB
					return o;
				});
				all = _.keyBy(extendedConcepts, function (o) {
					return o._id;
				});
				//console.info("Loaded concept types: " + _.size(all));
			},
			error: function () {
				console.error('Can not load concept types!')
			}
		})
		return all;
	}
	
	// 展示全部概念类别！
	for (let concept of getOrderedConcepts()) {
		$('.concepts-menu').append('<div class="concept-switch concept concept-' + concept.identifier + '" onclick="concept_toggle(\'' + concept.identifier + '\')"><span class="far icon"></span> ' + concept.name + '</div>');
	}
	
</script>
</body>
</html>